<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>DraggableMenu</title>
	<link rel="stylesheet" href="style.css"/>
	<style>

	</style>
</head>
<body>

<div style="height:900px"></div>
<h2 class="DraggableMenutittle" style="background:lightgoldenrodyellow; font-size: 32px; text-align: center">DraggableMenu</h2>
<button>获取数据</button>
<!--<div class="DraggableMenu"></div>-->
<ul class="draggableMenu">

</ul>

<script src="libs/jquery.js"></script>
<script src="DraggableMenu.js"></script>
<style>
	.testA{
		animation: testA 2s ease;
	}

	/*@-webkit-keyframes testA{*/
		/*0%,100%{opacity:1}*/
		/*50%{opacity:0.1}*/
	/*}*/
</style>
<script>

	$('h2').click(function(){
		$(this).addClass('testA');
	});

	var DraggableMenu = new DraggableMenu({

		container:".draggableMenu",

		dataList:[
			{text:'0  信用卡', icon:"c", id:"credit", url:"example/index/mycountDetail"},
			{text:'1  理财交易', icon:"d", id:"product", url:"example/index/iwant"},
			{text:'2  生活缴费', icon:"e", id:"life", url:"example/index/lifePayment"},
			{text:'3  关联转账', icon:"f", id:"", url:""},
			{text:'4  周边', icon:"g", id:"bankNodes", url:"example/index/bankNodes"},
			{text:'5  话费充值', icon:"h", id:"recharge", url:"example/index/recharge"},
			{text:'6  无卡取款', icon:"i", id:"", url:""},
//			{text:'组件展示', icon:"d", id:"toComponentsList", url:"demo/demo/list"},
			{text:'7  更多', icon:"d", id:"toComponentsList", url:"demo/demo/list"}
		],

		renderer: function(data, i){
			// <li class="dragItem" id="recharge"><i class="list-ico h"></i><span>话费充值</span></li>
			return $('<li>').addClass('dragItem').attr({'id': data.id})
							.append($("<i class='list-ico'>").addClass(data.icon))
							.append($('<span>').text(data.text))
		},

		onItemTap: function(data){
			$('.DraggableMenutittle').text('app.navigate='+ data.url);
		},

		onDragEnd:function(){
			$('.DraggableMenutittle').text('onDragEnd');
		},

		onClose:function(){
			$('.DraggableMenutittle').text('onClose');
		},
		onEditing:function(){
//			console.log('进入编辑模式')
		}

	});


</script>

<script src="./css-animations.js"></script>
<script>
	/*
	function Animations() {
		this.animations = {};
	}

	Animations.prototype.getDynamicSheet = function() {
		var style = document.createElement('style');
		style.rel = 'stylesheet';
		style.type = 'text/css';
		document.getElementsByTagName('head')[0].appendChild(style);
		this.dynamicSheet = style.sheet;
	};

	Animations.prototype.create = function(name, frames) {

		// name是keyframes的名称, frames对象是keyframes的内容
//		var styles = this.getDynamicSheet();

		var style = document.createElement('style');
		style.rel = 'stylesheet';
		style.type = 'text/css';
		document.getElementsByTagName('head')[0].appendChild(style);
		this.dynamicSheet = style.sheet;

		try {
			var idx = styles.insertRule('@keyframes ' + name + '{}',
					styles.cssRules.length);
		}
		catch(e) {
			if(e.name == 'SYNTAX_ERR' || e.name == 'SyntaxError') {
				idx = styles.insertRule('@-webkit-keyframes ' + name + '{}',
						styles.cssRules.length);
			}
			else {
				throw e;
			}
		}

//		var anim = new KeyframeAnimation(styles.cssRules[idx]);

		var original = styles.cssRules[idx];

//		this.animations[name] = anim;

		if(frames) {
			var obj = frames;
			for(var kk in obj) {
//				this.setKeyframe(k, obj[k]);
				var  text = kk, css = obj[k];

				var cssRule = text+" {";

				for(var k in css) {
					cssRule += k + ':' + css[k] + ';';
				}
				cssRule += "}";

				if('appendRule' in original) {
					original.appendRule(cssRule);
				}
				else {
					original.insertRule(cssRule);
				}
			}
//			anim.setKeyframes(frames);
		}

//		return anim;
	};
*/

</script>
</body>
</html>